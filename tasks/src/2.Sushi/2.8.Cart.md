В этом задании нужно сделать добавление продуктов в корзину и страницу корзины. Для создания редьюсера корзины будет использовать инструменты из Redux Toolkit.

1. Напиши редьюсер для корзины, используя `createSlice` из Redux Toolkit.
      Пусть слайс корзины называется `purchases`.
      Пусть каждая покупка в корзине представляет собой объект вида `{id, quantity}`, где id — идентификатор продукта, а quantity — заказанное количество.
      
      Пример состояния с парой покупок:
      ```js
      const appStateWithPurchasesExample = {
        page: /* ... */
        products: /* ... */
        chosenProducts: /* ... */
        purchases: [
          {
            id: 1,
            quantity: 2
          },
          {
            id: 2,
            quantity: 5
          }
        ]
      };
      ```

      Создай файл `tasks\src\2.Sushi\reducers\purchasesSlice.js` и напиши код для слайса корзины:
      
      ```js
      import { createSlice } from "@reduxjs/toolkit";

      const purchasesSlice = createSlice({
        name: 'purchases',
        initialState: [],
        reducers: {
          changePurchaseQuantity(state, action) {
            // Здесь будет код изменения state, удовлетворяющий следующим условиям:
            // - если продукта в корзине еще нет, то в массив `purchases` должен добавляться новый элемент
            // - если продукт в корзине есть, то должно меняться `quantity` для этого продукта
            // - покупки не должны повторяться, а значение `quantity` не должно быть меньше 0
          }
        }
      });

      export const {changePurchaseQuantity} = purchasesSlice.actions;
      export const purchasesReducer = purchasesSlice.reducer;
      ```

2. В `tasks\src\2.Sushi\index.js` вместо `createStore` будем использовать `configureStore`. Для этого импортируйте функцию из `@reduxjs/toolkit`.

      ```js
      import { configureStore } from '@reduxjs/toolkit'
      ```

      Замените использование `createStore` на `configureStore`.

      ```js
      const store = configureStore({
        reducer: {
          page: pageReducer,
          products: productsReducer,
          chosenProducts: chosenProductsReducer,
          purchases: purchasesReducer,
        },
        middleware: (getDefaultMiddleware) => [
          ...getDefaultMiddleware({
            thunk: {
              extraArgument: api
            },
          }),
          customMiddleWare,
          logger,
        ]
      });
      ```

      Импортируйте соответствующие редьюсеры из `tasks\src\2.Sushi\reducers\index.js`  и `tasks\src\2.Sushi\reducers\purchasesSlice.js`. Код с `combineReducers` больше не нужен.

3. Обнови контейнер `Product`:

      ```js
      import React from 'react';
      import { connect } from 'react-redux';
      import Product from '../components/Product';
      import Page from '../constants/Page';
      import { navigateTo } from '../actionCreators';
      import {changePurchaseQuantity} from '../reducers/purchasesSlice';

      export default connect(
        (state, props) => ({
          product: state.products.byId[props.productId],
          purchase: (state.purchases || []).find(p => p.id === props.productId)
        }),
        (dispatch, props) => ({
          onDecrease: () => dispatch(changePurchaseQuantity({ productId: props.productId, value: -1 })),
          onIncrease: () => dispatch(changePurchaseQuantity({ productId: props.productId, value: 1 })),
          onPay: () => dispatch(navigateTo(Page.cart))
        })
      )(Product);
      ```

4. Контейнер для `Cart` создавать не будем. Вместо этого отрефакторите компонент `Cart` так, чтобы он получал данные из `store` через хуки `useSelector()` и `useDispatch()`.
    
      ```js
      const productsById = useSelector((state) => state.products.byId);
      const productsStatus = useSelector((state) => state.products.status);
      const purchases = useSelector((state) => state.purchases);
      const dispatch = useDispatch();
      
      const onDecreaseById = (productId) => dispatch(changePurchaseQuantity({ productId, value: -1 }));
      const onIncreaseById = (productId) => dispatch(changePurchaseQuantity({ productId, value: 1 }));
      const onNavigateToMenu = () => dispatch(navigateTo(Page.menu));
      ```
      
      Не забудьте удалить ненужные `propTypes`.
     
6. Подготовка окончена. Теперь самостоятельно реализуйте обработчик `changePurchaseQuantity` в `purchasesSlice` для корзины.

      В `changePurchaseQuantity` надо обрабатывать изменения state следующим образом:
      - если продукта в корзине еще нет, то в массив `purchases` должен добавляться новый элемент
      - если продукт в корзине есть, то должно меняться `quantity` для этого продукта
      - покупки не должны повторяться, а значение `quantity` не должно быть меньше 0

      Изменения в `createSlice` можно писать в мутабельном стиле.

7. Теперь на страницах меню и корзины должно быть можно изменять заказ, а также должна работать навигация из корзины в меню, если корзина пуста.
